<div class="flash-messages" ng-hide="messages.length == 0">
    <li ng-repeat="message in messages" ng-class="message.style">{{ message.text }}</li>
  </ul>
</div>

<div class="props row">
  <div class="col-md-8 col-md-offset-2">
    <h1>Give Props</h1>
    <p>Notice <strong>{{ user.first_name }}</strong> making progress towards their goal to <strong>"{{ goal.name }}"</strong>?  Give them props!</p>
    <p>Additional feedback helps {{ user.first_name }} to put context around the props
      and be able to continue do the things you appreciated. <a ng-click="feedbackTip=true">What is good feedback?</a></p>
    <div class="feedback-tip well" ng-show="feedbackTip">
      <h4>What is good feedback?<button type="button" class="close" aria-hidden="true" ng-click="feedbackTip=false">&times;</button></h4>
      <ul>
        <li><strong>Feedback should be clear</strong> - Say what you mean</li>
        <li><strong>Don't sandwich the feedback</strong></li>
      </ul>
    </div>
    <form class="form-horizontal" role="form">
      <input type="hidden" ng-model="formData.user_id" value="{{ user.id }}">
      <input type="hidden" ng-model="formData.goal_id" value="{{ goal.id }}">
      <div class="form-group">
        <label for="comments" class="col-sm-2 control-label">User:</label>
        <div class="col-sm-9">
          <p class="form-control-static">{{ user.first_name }} {{ user.last_name }}</p>
        </div>
      </div>
      <div class="form-group">
        <label for="comments" class="col-sm-2 control-label">Goal:</label>
        <div class="col-sm-9">
          <p class="form-control-static">{{ goal.name }}</p>
        </div>
      </div>

      <div class="form-group">
        <label for="email" class="col-sm-2 control-label">Your Email:</label>
        <div ng-show="anonFlag">
          <div class="col-sm-9">
            <input type="text" name="email" ng-model="formData.email" class="form-control" />
          </div>
        </div>
      </div>
      <div class="form-group">
        <div class="col-sm-6 col-sm-offset-2">
          <input type="checkbox" name="anonymous_flag" value="1" ng-model="formData.anonymous_flag" ng-True-Value="1" ng-False-Value="0" ng-change="toggleAnon()"/> I wish to remain anonymous
          <div ng-show="anonCheck">
            <p class="alert alert-warning">Are you sure? Putting in your email will help {{ user.first_name }} better understand your comments.</p>
          </div>
        </div>
      </div>

      <div class="form-group">
        <label for="comments" class="col-sm-2 control-label">Comments:</label>
        <div class="col-sm-9">
          <textarea name="comments" ng-model="formData.comments" class="form-control"></textarea>
        </div>
      </div>
      <div class="form-group">
        <div class="col-sm-offset-2 col-sm-6">
          <button type="submit" class="btn" ng-click="create()">Submit</button>
          <a href="#/users/{{user.id}}" class="btn">Cancel</a>
        </div>
      </div>
    </form>
  </div>
</div>
